import{C as re,D as ne,E as R,F as T,G as le,H as se,k as F,I as fe,J as ie,K as G,L as y,M as k,N as ue,O as W,P as Z,Q as te,R as D,T as $,U as J,V as K,W as ve,X as P,i as _e,Y as O,Z as ce,_ as de,$ as oe,a0 as he,a1 as V,a2 as Ee,a3 as me,a4 as z,q as Ne,a5 as Ae,a6 as Te,u as Ie,r as xe}from"./H2CN42Iz.js";import{l as be}from"./ClLVBuHt.js";function Re(e,a){return a}function Ce(e,a,r,t){for(var l=[],i=a.length,v=0;v<i;v++)ce(a[v].e,l,!0);var d=i>0&&l.length===0&&r!==null;if(d){var N=r.parentNode;de(N),N.append(r),t.clear(),b(e,a[0].prev,a[i-1].next)}oe(l,()=>{for(var h=0;h<i;h++){var c=a[h];d||(t.delete(c.k),b(e,c.prev,c.next)),he(c.e,!d)}})}function ye(e,a,r,t,l,i=null){var v=e,d={flags:a,items:new Map,first:null},N=(a&z)!==0;if(N){var h=e;v=T?R(le(h)):h.appendChild(re())}T&&se();var c=null,C=!1,f=fe(()=>{var _=r();return _e(_)?_:_==null?[]:$(_)});ne(()=>{var _=F(f),n=_.length;if(C&&n===0)return;C=n===0;let I=!1;if(T){var E=v.data===ie;E!==(n===0)&&(v=G(),R(v),y(!1),I=!0)}if(T){for(var m=null,A,o=0;o<n;o++){if(k.nodeType===8&&k.data===ue){v=k,I=!0,y(!1);break}var s=_[o],u=t(s,o);A=j(k,d,m,null,s,u,o,l,a,r),d.items.set(u,A),m=A}n>0&&R(G())}T||Se(_,d,v,l,a,t,r),i!==null&&(n===0?c?W(c):c=Z(()=>i(v)):c!==null&&te(c,()=>{c=null})),I&&y(!0),F(f)}),T&&(v=k)}function Se(e,a,r,t,l,i,v){var Y,p,U,X;var d=(l&Ae)!==0,N=(l&(V|O))!==0,h=e.length,c=a.items,C=a.first,f=C,_,n=null,I,E=[],m=[],A,o,s,u;if(d)for(u=0;u<h;u+=1)A=e[u],o=i(A,u),s=c.get(o),s!==void 0&&((Y=s.a)==null||Y.measure(),(I??(I=new Set)).add(s));for(u=0;u<h;u+=1){if(A=e[u],o=i(A,u),s=c.get(o),s===void 0){var ee=f?f.e.nodes_start:r;n=j(ee,a,n,n===null?a.first:n.next,A,o,u,t,l,v),c.set(o,n),E=[],m=[],f=n.next;continue}if(N&&ke(s,A,u,l),(s.e.f&D)!==0&&(W(s.e),d&&((p=s.a)==null||p.unfix(),(I??(I=new Set)).delete(s))),s!==f){if(_!==void 0&&_.has(s)){if(E.length<m.length){var w=m[0],x;n=w.prev;var q=E[0],H=E[E.length-1];for(x=0;x<E.length;x+=1)Q(E[x],w,r);for(x=0;x<m.length;x+=1)_.delete(m[x]);b(a,q.prev,H.next),b(a,n,q),b(a,H,w),f=w,n=H,u-=1,E=[],m=[]}else _.delete(s),Q(s,f,r),b(a,s.prev,s.next),b(a,s,n===null?a.first:n.next),b(a,n,s),n=s;continue}for(E=[],m=[];f!==null&&f.k!==o;)(f.e.f&D)===0&&(_??(_=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;s=f}E.push(s),n=s,f=s.next}if(f!==null||_!==void 0){for(var S=_===void 0?[]:$(_);f!==null;)(f.e.f&D)===0&&S.push(f),f=f.next;var M=S.length;if(M>0){var ae=(l&z)!==0&&h===0?r:null;if(d){for(u=0;u<M;u+=1)(U=S[u].a)==null||U.measure();for(u=0;u<M;u+=1)(X=S[u].a)==null||X.fix()}Ce(a,S,ae,c)}}d&&Ne(()=>{var B;if(I!==void 0)for(s of I)(B=s.a)==null||B.apply()}),J.first=a.first&&a.first.e,J.last=n&&n.e}function ke(e,a,r,t){(t&V)!==0&&K(e.v,a),(t&O)!==0?K(e.i,r):e.i=r}function j(e,a,r,t,l,i,v,d,N,h){var c=(N&V)!==0,C=(N&Ee)===0,f=c?C?ve(l):P(l):l,_=(N&O)===0?v:P(v),n={i:_,v:f,k:i,a:null,e:null,prev:r,next:t};try{return n.e=Z(()=>d(e,f,_,h),T),n.e.prev=r&&r.e,n.e.next=t&&t.e,r===null?a.first=n:(r.next=n,r.e.next=n.e),t!==null&&(t.prev=n,t.e.prev=n.e),n}finally{}}function Q(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,i=e.e.nodes_start;i!==t;){var v=me(i);l.before(i),i=v}}function b(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function De(e,a,r){var t=e.__className,l=we(a);T&&e.className===l?e.__className=l:(t!==l||T&&e.className!==l)&&(a==null?e.removeAttribute("class"):e.className=l,e.__className=l)}function we(e,a){return(e??"")+""}function ge(e,a,r=a){var t=Te();be(e,"input",l=>{var i=l?e.defaultValue:e.value;if(i=g(e)?L(i):i,r(i),t&&i!==(i=a())){var v=e.selectionStart,d=e.selectionEnd;e.value=i??"",d!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(d,e.value.length))}}),(T&&e.defaultValue!==e.value||Ie(a)==null&&e.value)&&r(g(e)?L(e.value):e.value),xe(()=>{var l=a();g(e)&&l===L(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function g(e){var a=e.type;return a==="number"||a==="range"}function L(e){return e===""?null:+e}export{ge as b,ye as e,Re as i,De as s};
