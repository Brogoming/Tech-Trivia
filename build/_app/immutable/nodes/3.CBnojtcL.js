import{t as h,a as g,d as R}from"../chunks/CEsHVwq1.js";import{h as n,j as v,v as U,o,t as p,m,d as I,k as r,p as H,a as V,f as G,g as K}from"../chunks/H2CN42Iz.js";import{s as f,d as N}from"../chunks/ClLVBuHt.js";import{b as W,s as J,e as Q,i as A}from"../chunks/DIrAR-N_.js";import{r as X,s as P}from"../chunks/Bv3dMjtx.js";import{a as M,i as Y,p as E}from"../chunks/Brsecod8.js";import{c as Z,o as $}from"../chunks/Cn8fvm_w.js";import"../chunks/BRhmi-d7.js";import{I as ee}from"../chunks/DY-4mI6I.js";import{b as F}from"../chunks/DA-H2ZUY.js";var te=h('<div class="m-auto rounded-3xl w-1/5 border-4 border-solid border-black bg-gray-500 px-16 py-2 text-2xl text-black text-center"> <input class="w-1/3 bg-gray-400 rounded-xl text-right" type="number" min="0" step="100">pts</div>');function re(d,e){let t=M(e,"name",8,""),a=M(e,"points",12,0);var s=te(),l=n(s),i=v(l);X(i),U(),o(s),p(()=>f(l,`${t()??""}: `)),W(i,a),g(d,s)}var ae=(d,e)=>m(e,!r(e)),oe=h('<button aria-label="Question card"><div class="front svelte-7h0hmo"> </div> <div class="back svelte-7h0hmo"> </div></button>');function se(d,e){let t=I(!1);var a=oe();a.__click=[ae,t];var s=n(a),l=n(s,!0);o(s);var i=v(s,2),c=n(i,!0);o(i),o(a),p(()=>{J(a,`card w-full rounded-3xl border-4 border-solid border-black py-24 text-center text-wrap ${(r(t)?"flipped":"")??""} svelte-7h0hmo`),f(l,e.answer),f(c,e.question)}),g(d,a)}N(["click"]);var ie=(d,e,t,a)=>{m(e,!1),t(15),a("close")},le=(d,e,t)=>{m(e,!r(e)),t()<=0&&t(15)},ne=(d,e)=>{e()},de=(d,e,t,a)=>{r(e).points+=t.points,a()},ve=h('<button class="w-full rounded-3xl border-4 border-solid border-black bg-gray-500 px-16 py-2 text-2xl text-black hover:bg-gray-400"> </button>'),ce=h('<div class="fixed inset-0 flex bg-black bg-opacity-50 text-3xl"><div class="relative m-auto w-1/3 rounded-lg bg-black shadow-lg pb-7 space-y-2"><button class="absolute right-1 top-1 text-xl">‚ùå</button> <div class="pt-7"><!></div> <div class="flex"><button> </button><button class="w-1/2 p-2 border-4 border-solid border-yellow-950 bg-yellow-800 hover:bg-yellow-600">No Answer</button></div> <div class="space-y-2"></div></div></div>');function be(d,e){H(e,!0);const t=Z();let a=M(e,"show",3,!1),s=M(e,"secondsTimer",7,15),l=I(!1);function i(){t("close"),t("disableButton")}V(()=>{setInterval(()=>{r(l)&&s(s()-1),s()<=0&&m(l,!1)},1e3)});var c=R(),z=G(c);{var T=S=>{var k=ce(),w=n(k),C=n(w);C.__click=[ie,l,s,t];var y=v(C,2),_=n(y);se(_,{get question(){return e.question},get answer(){return e.answer}}),o(y);var b=v(y,2),u=n(b);u.__click=[le,l,s];var j=n(u);o(u);var B=v(u);B.__click=[ne,i],o(b);var q=v(b,2);Q(q,21,()=>e.teams,A,(D,x,pe)=>{var O=ve();O.__click=[de,x,e,i];var L=n(O);o(O),p(()=>f(L,`${r(x).name??""}: ${r(x).points??""} pts`)),g(D,O)}),o(q),o(w),o(k),p(()=>{J(u,`w-1/2 p-2 border-4 border-solid border-lime-950 bg-lime-800 hover:bg-lime-600 ${(r(l)?"border-red-950 bg-red-800 hover:bg-red-600":"border-lime-950 bg-lime-800 hover:bg-lime-600")??""}`),f(j,`${(r(l)?"Stop":"Start")??""} Time: ${s()??""}`)}),g(S,k)};Y(z,S=>{a()&&S(T)})}g(d,c),K()}N(["click"]);var ue=(d,e)=>{m(e,!0)},me=h('<!> <button aria-label="Points button"> </button>',1);function _e(d,e){let t=I(!1),a=I(!0);var s=me(),l=G(s);be(l,{get show(){return r(t)},get question(){return e.question},get answer(){return e.answer},get points(){return e.points},get isAvailble(){return r(a)},get teams(){return e.teams},get secondsTimer(){return e.secondsTimer},$$events:{close:()=>m(t,!1),disableButton:()=>{m(a,!1)}}});var i=v(l,2);i.__click=[ue,t];var c=n(i,!0);o(i),p(()=>{J(i,`bgCell w-full border-4 border-solid border-black p-7 text-center text-6xl font-extrabold text-black ${(r(a)?"":"disableCell pointer-events-none")??""} svelte-164s7e2`),i.disabled=!r(a),f(c,e.points)}),g(d,s)}N(["click"]);function ge(d,e){m(e,E([...r(e)].sort((t,a)=>a.points-t.points))),localStorage.setItem("teams",JSON.stringify(r(e)))}var fe=h('<div><div class="categoryCell border-4 border-solid border-black p-9 text-center svelte-ez0jza"> </div> <!></div>'),xe=h('<div class="grid grid-cols-3 p-2 justify-center text-4xl"><a class="mr-auto"><!></a> <h1 class="text-center"> </h1> <a class="ml-auto border-4 border-solid border-blue-900 rounded-md px-4 text-base my-auto bg-blue-700 hover:bg-blue-400 hover:border-blue-600">End Game</a></div> <div class="m-auto"><div class="flex place-content-center text-4xl"></div></div> <div class="mt-4 flex"></div>',1);function Oe(d,e){H(e,!0);let t=e.data.post.set,a=I(E([]));$(()=>{{const _=localStorage.getItem("teams");_&&m(a,E(JSON.parse(_)))}});let s=15;var l=xe(),i=G(l),c=n(i);P(c,"href",`${F??""}/`);var z=n(c);ee(z,{icon:"mdi-light:home"}),o(c);var T=v(c,2),S=n(T,!0);o(T);var k=v(T,2);k.__click=[ge,a],P(k,"href",`${F??""}/congrats`),o(i);var w=v(i,2),C=n(w);Q(C,21,()=>Object.keys(t),A,(_,b)=>{var u=fe(),j=n(u),B=n(j,!0);o(j);var q=v(j,2);Q(q,17,()=>Object.keys(t[r(b)]),A,(D,x)=>{_e(D,{get points(){return t[r(b)][r(x)].points},get question(){return r(x)},get answer(){return t[r(b)][r(x)].answer},get teams(){return r(a)},get secondsTimer(){return s}})}),o(u),p(()=>f(B,r(b))),g(_,u)}),o(C),o(w);var y=v(w,2);Q(y,21,()=>r(a),A,(_,b)=>{re(_,{get name(){return r(b).name},get points(){return r(b).points}})}),o(y),p(()=>f(S,e.data.post.slug)),g(d,l),K()}N(["click"]);export{Oe as component};
